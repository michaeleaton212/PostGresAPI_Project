<div class="page">
  <h2 i18n>Rooms</h2>

  <div class="buttons-row-rooms">
    <div class="bedrooms-button">
      <button i18n type="button"
              (click)="setView('bedroom')"
              [class.active]="view === 'bedroom'"
              [attr.aria-pressed]="view === 'bedroom'">
        Bedrooms
      </button>
    </div>

    <div class="meetingrooms-button">
      <button i18n type="button"
              (click)="setView('meeting')"
              [class.active]="view === 'meeting'"
              [attr.aria-pressed]="view === 'meeting'">
        Meetingrooms
      </button>
    </div>
  </div>

  <div class="rooms-content">

    <!-- loading message -->
    <div *ngIf="loading" class="loading-container">
      <p i18n>Loading rooms...</p>
    </div>

    <div *ngIf="error && !loading" class="error-container">
      <p>{{ error }}</p>
    </div>

    <div *ngIf="!loading && !error">

      <!-- Show when no rooms exist -->
      <div *ngIf="view === null && rooms.length === 0" class="no-rooms">
        <p i18n>No rooms available.</p>
      </div>

      <!-- Show ALL rooms -->
      <div *ngIf="view === null && rooms.length > 0" class="room-section">
        <div class="room-grid">
          <div *ngFor="let room of rooms"
               class="room-card"
               (click)="openPreview(room)"
               style="cursor:pointer">
            <img class="room-image"
                 src="grey.png"
                 [alt]="room.type"
                 loading="lazy">
            <div class="bedrooms-row">
              <div class="room-name">
                <h4>{{ room.name }}</h4>
              </div>
              <div class="room-type">
                <span>{{ room.type }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- list bedrooms -->
      <div *ngIf="view === 'bedroom' && bedrooms.length > 0" class="room-section">
        <div class="room-grid">
          <div *ngFor="let room of bedrooms"
               class="room-card"
               (click)="openPreview(room)"
               style="cursor:pointer">
            <img class="room-image" src="grey.png" alt="Bedroom" i18n-alt loading="lazy">
            <div class="bedrooms-row">
              <div class="room-name"><h4>{{ room.name }}</h4></div>
              <div class="room-type"><span class="room-type">{{ room.type }}</span></div>
            </div>
          </div>
        </div>
      </div>

      <!-- list meetingrooms -->
      <div *ngIf="view === 'meeting' && meetingrooms.length > 0" class="room-section">
        <div class="room-grid">
          <div *ngFor="let room of meetingrooms"
               class="room-card"
               (click)="openPreview(room)"
               style="cursor:pointer">
            <img class="room-image"
                 src="grey.png"
                 alt="Meeting room"
                 i18n-alt
                 loading="lazy">
            <div class="meetingrooms-row">
              <div class="room-name">
                <h4>{{ room.name }}</h4>
              </div>
              <div class="room-type">
                <span>{{ room.type }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- when no bedrooms -->
      <div *ngIf="view === 'bedroom' && bedrooms.length === 0" class="no-rooms">
        <p i18n>No bedrooms available.</p>
      </div>

      <!-- when no meetingrooms -->
      <div *ngIf="view === 'meeting' && meetingrooms.length === 0" class="no-rooms">
        <p i18n>No meeting rooms available.</p>
      </div>

    </div>
  </div>
</div>

<app-footer></app-footer>
